/*
* Copyright 2016 Seven Spikes Ltd. All rights reserved. (http://www.nop-templates.com)
* http://www.nop-templates.com/t/licensinginfo
*/

function setHistoryState() { history.replaceState({ isPageAlreadyVisited: !0 }, "", window.location) } var firstInit = !0, noHashQueryInitialized = !1, isPageAlreadyVisited = !1; $.address.externalChange(function () { var e = new FiltersManager, i = window.location.hash; i ? e.requestProductsForSelectedFilters(null, null, null, i, void 0, void 0, void 0, isPageAlreadyVisited) : firstInit || (e.requestProductsForSelectedFilters(null, null, null, "NO HASH QUERY", noHashQueryInitialized, void 0, void 0, isPageAlreadyVisited), noHashQueryInitialized = !noHashQueryInitialized), firstInit = !1 }), $(document).ready(setHistoryState), $(document).on("nopAjaxFiltersFiltrationCompleteEvent", setHistoryState), window.onpopstate = function (e) { var i = history.state; i && (isPageAlreadyVisited = i.isPageAlreadyVisited) };